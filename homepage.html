<!DOCTYPE html>
<html lang="en">
<script src="js/jquery-1.6.2.min.js" type="text/javascript"></script> 
<script src="js/jquery-ui-1.8.16.custom.min.js" type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<title>Stock Market API Project</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
html,body,h1,h2,h3,h4,h5 {font-family: "HelveticaNeue", sans-serif}
/*  other font to try: Raleway*/

td.title:hover{
	color: blue;
}

tr.hover{
  color:red;
}
</style>

<body class="w3-white">



<!-- Top container -->
<header class="w3-container w3-theme w3-padding" id="myHeader">
  <div class="w3-padding-32">
  <div class="w3-center">
  <h1 class="w3-xxxlarge w3-animate-bottom" onclick="function10()">Stock Market API Project</h1>
    <div class="w3-padding-28">
  </div>
</header>
<!--  Top container-->






  <!-- Header -->

  
    <img src="stock.jpg" width=100% height="200" alt="Stock Market Pic">

  
 

  <div class="w3-row-padding w3-margin-bottom" style="padding-top:60px">
    <div class="w3-quarter" style="width: 20%" onclick=function11()>
      <div class="w3-container w3-red w3-padding-16">
        <div class="w3-right">
          <h3>MSFT</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>Microsoft Corporation</h4>
      </div>
    </div>
    
    <div class="w3-quarter" style="width: 20%" onclick=function12()>
      <div class="w3-container w3-teal w3-padding-16">
        <div class="w3-right">
          <h3>GOOG</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>Alphabet Inc.</h4>
      </div>
    </div>
    
    
    <div class="w3-quarter" style="width: 20%" onclick=function13()>
      <div class="w3-container w3-blue w3-padding-16">
        <div class="w3-left"></div>
        <div class="w3-right">
          <h3>AAPL</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>Apple Inc.</h4>
      </div>
    </div>
    
    <div class="w3-quarter" style="width: 20%" onclick=function14()>
      <div class="w3-container w3-orange w3-text-white w3-padding-16">
        <div class="w3-right">
          <h3>AMZN</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>Amazon.com, Inc.</h4>
      </div>
    </div>

    <div class="w3-quarter" style="width: 20%" onclick=function15()>
      <div class="w3-container w3-purple w3-text-white w3-padding-16">
        <div class="w3-right">
          <h3>INTC</h3>
        </div>
        <div class="w3-clear"></div>
        <h4>Intel Corporation</h4>
      </div>
    </div>

    
  </div>
<!--  End of top section-->


<hr>

  <div class="w3-panel">
    <div class="w3-row-padding" style="margin:0 -16px">

    
      
      <!--  Right half section-->
      <div class="w3-full">
        <!-- #f44336 -->
        <h4 style="text-align: center; background-color: grey;">Stocks</h4>
        <!--  Tabel Section-->
        <table class="w3-table w3-striped w3-bordered w3-border w3-hoverable w3-white">
          <tr>
          	<td class="title" onclick=function11()>Microsoft Corporation</td>
            <td id="stockSymbol" class="ajaxtrigger">&nbsp;</td>
            <td>Price: $<span id="stockAsk"></span></td>
          </tr>
          <tr>
          	<td class="title" onclick=function12()>Alphabet Inc.</td>
            <td id="stockSymbol2" class="ajaxtrigger2">&nbsp;</td>
            <td>Price: $<span id="stockAsk2"></span></td>
          </tr>
          <tr>
          	<td class="title" onclick=function13()>Apple Inc.</td>
            <td id="stockSymbol3" class="ajaxtrigger3">&nbsp;</td>
            <td>Price: $<span id="stockAsk3"></span></td>
          </tr>
          <tr>
          	<td class="title" onclick=function14()>Amazon.com, Inc.</td>
			<td id="stockSymbol4" class="ajaxtrigger4">&nbsp;</td>
            <td>Price: $<span id="stockAsk4"></span></td>
          </tr>
          <tr>
          	<td class="title" onclick=function15()>Intel Corporation</td>
            <td id="stockSymbol5" class="ajaxtrigger5">&nbsp;</td>
            <td>Price: $<span id="stockAsk5"></span></td>
          </tr>
          
        </table>
        
      </div>
    </div>
  </div>
  
  <!--  End of Second Section-->
  <hr>
  
  
  <!--  Sector Performance Data-->
  

  <div class="w3-container">
    <!-- #4CAF50 -->
    <h4 style="text-align: center; background-color: grey;">Profit Margin</h4>
    <p>Microsoft Corporation</p>
    <div class="w3-light-grey">
      <div class="w3-container w3-center w3-padding w3-red" style="width:12%">11.57%</div>
    </div>
    <p>Alphabet Inc.</p>
    <div class="w3-light-grey">
      <div class="w3-container w3-center w3-padding w3-green" style="width:14%">14.19%</div>
    </div>
    <p>Apple Inc.</p>
    <div class="w3-light-grey">
      <div class="w3-container w3-center w3-padding w3-blue" style="width:22%">21.55%</div>
    </div>
    <p>Amazon.com, Inc.</p>
    <div class="w3-light-grey">
      <div class="w3-container w3-center w3-padding w3-orange" style="width:2%">2.60%</div>
    </div>
    <p>Intel Corporation</p>
    <div class="w3-light-grey">
      <div class="w3-container w3-center w3-padding w3-purple" style="width:17%">17.32%</div>
    </div>

  </div>
  
  
  <!--  End of Sector Performance-->
  <hr>
  <!--  Country Performance-->

  <div class="w3-container">
    <h4 style="text-align: center; background-color: grey;">US Sector Performance (realtime & historical)</h4>
    <table class="w3-table w3-striped w3-white">
      <tr>
        <td>Information Technology</td>
        <td id="sec1" class="ajaxtriggerSec"></td>
      </tr>
      <tr>
        <td>Materials</td>
        <td id="sec2" class="ajaxtriggerSec"></td>
      </tr>
      <tr>
        <td>Health Care</td>
        <td id="sec3" class="ajaxtriggerSec"></td>
      </tr>
      <tr>
        <td>Industrials</td>
        <td id="sec4" class="ajaxtriggerSec"></td>
      </tr>
      <tr>
        <td>Financials</td>
        <td id="sec5" class="ajaxtriggerSec"></td>
      </tr>
      <tr>
        <td>Consumer Discretionary</td>
        <td id="sec6" class="ajaxtriggerSec"></td>
      </tr>
      <tr>
        <td>Energy</td>
        <td id="sec7" class="ajaxtriggerSec"></td>
      </tr>
      <tr>
        <td>Real Estate</td>
        <td id="sec8" class="ajaxtriggerSec"></td>
      </tr>
      <tr>
        <td>Telecommunication Service</td>
        <td id="sec9" class="ajaxtriggerSec"></td>
      </tr>
      <tr>
        <td>Consumer Staples</td>
        <td id="sec10" class="ajaxtriggerSec"></td>
      </tr>
      <tr>
        <td>Utilities</td>
        <td id="sec11" class="ajaxtriggerSec"></td>
      </tr>
    </table><br>
  </div>
  
  
  <!--  End of Country Performance-->
  
  <!--  End of Country Performance-->
  <br>
  
  
  
  <div class="w3-container w3-dark-grey w3-padding-32">
    <div class="w3-row">
      <div class="w3-container w3-third">
        <h5 class="w3-bottombar w3-border-green">Technologies Used</h5>
        <p>HTML</p>
        <p>CSS</p>
        <p>JavaScript: JQuery, AJAX</p>
      </div>
      
      <div class="w3-container w3-third">
        <h5 class="w3-bottombar w3-border-red">Citing</h5>
        <p>CSS assistence: w3.css</p>
        <p>Stock API: Alpha Vantage Inc.</p>
      </div>
      
      <div class="w3-container w3-third">
        <h5 class="w3-bottombar w3-border-orange">Designer</h5>
        <p>Cristopher Serrano</p>
        <p>GitHub: https://github.com/cristopherserrano</p>
        <p>Phone: (703)786-4525</p>
        <p>Email: cas5tu@virginia.edu</p>
      </div>
    </div>
  </div>

  <!-- End page content -->

  
  
  
<script>
var theURL = "https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=MSFT&interval=1min&apikey=Z7IN6DE27P1NX0Y5";

$(document).ready(function() {
  $("#stockIndicator").show();
  doAjax(theURL);

  $('.ajaxtrigger').click(function() {
    $("#stockIndicator").show();
    doAjax(theURL);
    return false;
  });

  function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g, ",");
  }

  function doAjax(url) {
    $.ajax({
      url: url,
      dataType: 'json',
      contentType: "application/json",
      success: function(data) {

        var symbol = data['Meta Data']['2. Symbol']
        var lastRefreshed = data['Meta Data']['3. Last Refreshed']
        var lastTradePriceOnly = data['Time Series (1min)'][lastRefreshed]['4. close']
        var lastVolume = data['Time Series (1min)'][lastRefreshed]['5. volume']

        $('#stockSymbol').html(symbol);
        $('#stockAsk').html(lastTradePriceOnly);
        $('#stockVolume').html(numberWithCommas(lastVolume));
        $("#stockIndicator").hide();
      }
    });
  }
});

var URL = "https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=GOOG&interval=1min&apikey=Z7IN6DE27P1NX0Y5";

$(document).ready(function() {
  $("#stockIndicator2").show();
  doAjax(URL);

  $('.ajaxtrigger2').click(function() {
    $("#stockIndicator2").show();
    doAjax(URL);
    return false;
  });

  function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g, ",");
  }

  function doAjax(url) {
    $.ajax({
      url: url,
      dataType: 'json',
      contentType: "application/json",
      success: function(data) {

        var symbol = data['Meta Data']['2. Symbol']
        var lastRefreshed = data['Meta Data']['3. Last Refreshed']
        var lastTradePriceOnly = data['Time Series (1min)'][lastRefreshed]['4. close']
        

        $('#stockSymbol2').html(symbol);
        $('#stockAsk2').html(lastTradePriceOnly);
        
        
      }
    });
  }
});

var URL2 = "https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=AAPL&interval=1min&apikey=Z7IN6DE27P1NX0Y5";

$(document).ready(function() {
  $("#stockIndicator3").show();
  doAjax(URL2);

  $('.ajaxtrigger3').click(function() {
    $("#stockIndicator3").show();
    doAjax(URL2);
    return false;
  });

  function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g, ",");
  }

  function doAjax(url) {
    $.ajax({
      url: url,
      dataType: 'json',
      contentType: "application/json",
      success: function(data) {

        var symbol = data['Meta Data']['2. Symbol']
        var lastRefreshed = data['Meta Data']['3. Last Refreshed']
        var lastTradePriceOnly = data['Time Series (1min)'][lastRefreshed]['4. close']
        

        $('#stockSymbol3').html(symbol);
        $('#stockAsk3').html(lastTradePriceOnly);
        
        
      }
    });
  }
});

var URL4 = "https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=AMZN&interval=1min&apikey=Z7IN6DE27P1NX0Y5";

$(document).ready(function() {
  $("#stockIndicator4").show();
  doAjax(URL4);

  $('.ajaxtrigger4').click(function() {
    $("#stockIndicator4").show();
    doAjax(URL4);
    return false;
  });

  function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g, ",");
  }

  function doAjax(url) {
    $.ajax({
      url: url,
      dataType: 'json',
      contentType: "application/json",
      success: function(data) {

        var symbol = data['Meta Data']['2. Symbol']
        var lastRefreshed = data['Meta Data']['3. Last Refreshed']
        var lastTradePriceOnly = data['Time Series (1min)'][lastRefreshed]['4. close']
        

        $('#stockSymbol4').html(symbol);
        $('#stockAsk4').html(lastTradePriceOnly);
        
        
      }
    });
  }
});

var URL5 = "https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=INTC&interval=1min&apikey=Z7IN6DE27P1NX0Y5";

$(document).ready(function() {
  $("#stockIndicator5").show();
  doAjax(URL5);

  $('.ajaxtrigger5').click(function() {
    $("#stockIndicator5").show();
    doAjax(URL5);
    return false;
  });

  function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g, ",");
  }

  function doAjax(url) {
    $.ajax({
      url: url,
      dataType: 'json',
      contentType: "application/json",
      success: function(data) {

        var symbol = data['Meta Data']['2. Symbol']
        var lastRefreshed = data['Meta Data']['3. Last Refreshed']
        var lastTradePriceOnly = data['Time Series (1min)'][lastRefreshed]['4. close']
        

        $('#stockSymbol5').html(symbol);
        $('#stockAsk5').html(lastTradePriceOnly);
        
        
      }
    });
  }
});

var URLSec ="https://www.alphavantage.co/query?function=SECTOR&apikey=Z7IN6DE27P1NX0Y5";
$(document).ready(function() {
	  $("#stockIndicatorSec").show();
	  doAjax(URLSec);

	  $('.ajaxtriggerSec').click(function() {
	    $("#sec1").show();
	    $("#sec2").show();
	    $("#sec3").show();
	    $("#sec4").show();
	    $("#sec5").show();
	    $("#sec6").show();
	    $("#sec7").show();
	    $("#sec8").show();
	    $("#sec9").show();
	    $("#sec10").show();
	    $("#sec11").show();
	    doAjax(URLSec);
	    return false;
	  });
	  
	  
	  function doAjax(url) {
	    $.ajax({
	      url: url,
	      dataType: 'json',
	      contentType: "application/json",
	      success: function(data) {

	        var symbol = data['Meta Data']['Information']
	        var vsec1 = data['Rank A: Real-Time Performance']['Information Technology']
	        var vsec2 = data['Rank A: Real-Time Performance']['Materials']
	        var vsec3 = data['Rank A: Real-Time Performance']['Health Care']
	        var vsec4 = data['Rank A: Real-Time Performance']['Industrials']
	        var vsec5 = data['Rank A: Real-Time Performance']['Financials']
	        var vsec6 = data['Rank A: Real-Time Performance']['Consumer Discretionary']
	        var vsec7 = data['Rank A: Real-Time Performance']['Energy']
	        var vsec8 = data['Rank A: Real-Time Performance']['Real Estate']
	        var vsec9 = data['Rank A: Real-Time Performance']['Telecommunication Services']
	        var vsec10 = data['Rank A: Real-Time Performance']['Consumer Staples']
	        var vsec11 = data['Rank A: Real-Time Performance']['Utilities']
	        
	     
	        $('#sec1').html(vsec1);
	        $('#sec2').html(vsec2);
	        $('#sec3').html(vsec3);
	        $('#sec4').html(vsec4);
	        $('#sec5').html(vsec5);
	        $('#sec6').html(vsec6);
	        $('#sec7').html(vsec7);
	        $('#sec8').html(vsec8);
	        $('#sec9').html(vsec9);
	        $('#sec10').html(vsec10);
	        $('#sec11').html(vsec11);

	        
	      }
	    });
	  }
	});
	
  function function10(){
    window.location = "homepage.html";
}
	function function11(){
		window.location = "MSFT.html";
	}
	function function12(){
		window.location = "GOOG.html";
	}
	function function13(){
		window.location = "AAPL.html";
	}
	function function14(){
		window.location = "AMZN.html";
	}
	function function15(){
		window.location = "INTC.html";
	}


</script>

</body>
</html>